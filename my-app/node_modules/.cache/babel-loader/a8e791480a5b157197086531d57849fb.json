{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\oscar\\\\Dropbox\\\\Semester 3\\\\Colic Web App\\\\40316282_FINAL\\\\my-app\\\\src\\\\components\\\\AddHorse.jsx\";\nimport React, { Component } from 'react';\nimport './InputForm.css';\nimport Form from 'react-bootstrap/Form';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap';\nimport { MyContext } from '../contexts/MyContext';\nimport Axios from 'axios';\nimport { Link } from 'react-router-dom'; //This template is adapted from our input form, except we edit the input values and syntax to suit the ‘savehorse.php’. \n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AddHorse extends Component {\n  //Importing the MyContext.js state values. We are interested in theUser as we are adding horses specific to the user account.\n  //MyContext is acting as a parental component. It passes its prop values down to this component. React is one directional meaning that props \n  //cannot be passed back up to the parent.\n  //constructor defines the initial state\n  constructor(props) {\n    super(props); //default values form values - starts empty. Values are altered by the rendered input form below.\n\n    this.addHorse = () => {\n      //gets the user info from MyContext state. \n      //rootstate contains theUser, isAuth, isLoggedIn to control and access the signed in account values.\n      //We are interested in theUser.user_id value\n      const {\n        rootState\n      } = this.context;\n      const {\n        theUser\n      } = rootState;\n      console.log(theUser.user_id);\n      this.setState({\n        isLoading: true\n      }); //this object takes the values from our current form state. It will be passed to the php code /savehorse.php\n      //All horses are saved as 'Under Supervision' by default. \n      // The veterinarian user will change this through the dashboard of the app when the horse is discharged (veterinarian has finished their client services).\n      //The discharge parameters are : discharged : dead, discharged : under treatment and discharged : fully recovered.\n\n      const params = {\n        horse_name: this.state.formData.horse_name,\n        weight_kg: this.state.formData.weight_kg,\n        height_cm: this.state.formData.height_cm,\n        colour: this.state.formData.colour,\n        description: this.state.formData.description,\n        horse_breed: this.state.formData.horse_breed,\n        client_name: this.state.formData.client_name,\n        user_id: theUser.user_id,\n        status: 'Under Supervision',\n        passport_no: this.state.formData.passport_no\n      };\n      console.log(params.horse_name, params.weight_kg, params.height_cm, params.colour, params.description, params.horse_breed, params.client_name, params.user_id, params.status, params.passport_no); //axios makes a post request to our local server API. It passes the above params. This will add the horse data to the sql database.\n\n      Axios.post(\"http://localhost/php-colicapp/savehorse.php\", params).then(response => {\n        console.log(response);\n      }).catch(error => {\n        console.log(error);\n      });\n      this.setState({\n        isLoading: false\n      });\n    };\n\n    this.handleChange = event => {\n      const value = event.target.value;\n      const name = event.target.name;\n      var formData = this.state.formData;\n      formData[name] = value;\n      this.setState({\n        formData\n      });\n    };\n\n    this.handleCancelClick = event => {\n      this.setState({\n        result: \"\"\n      });\n    };\n\n    this.state = {\n      isLoading: false,\n      formData: {\n        horse_name: '',\n        weight_kg: '',\n        height_cm: '',\n        colour: '',\n        description: '',\n        horse_breed: '',\n        client_name: '',\n        user_id: '',\n        status: '',\n        passport_no: ''\n      }\n    }; //this syntax allows the addHorse() method to change the state values.\n\n    this.addHorse = this.addHorse.bind(this);\n  } //sends the horse information to our database when the 'addhorse' button is clicked\n\n\n  render() {\n    //creating an object that allows us to access the state of the \"isLoading\" variable\n    const isLoading = this.state.isLoading; //creating an object that allows us to access the state of the \"formData\" variable - the horse values we are to change through form input\n\n    const formData = this.state.formData; //below is what will appear on the screen in browser when loaded\n\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"title\",\n          children: \"Add Horse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Row, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              as: Col,\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Horse Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"horse_name\",\n                value: formData.horse_name,\n                onChange: this.handleChange,\n                maxLength: \"25\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              as: Col,\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Horse Passport Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"passport_no\",\n                value: formData.passport_no,\n                onChange: this.handleChange,\n                maxLength: \"15\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              as: Col,\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Weight in Kilograms\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                value: formData.weight_kg,\n                name: \"weight_kg\",\n                onChange: this.handleChange,\n                maxLength: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              as: Col,\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Height in Centremeters\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                value: formData.height_cm,\n                name: \"height_cm\",\n                onChange: this.handleChange,\n                maxLength: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              as: Col,\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Horse Colour\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                value: formData.colour,\n                name: \"colour\",\n                onChange: this.handleChange,\n                maxLength: \"10\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              as: Col,\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Horse Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                value: formData.description,\n                name: \"description\",\n                onChange: this.handleChange,\n                maxLength: \"200\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              as: Col,\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Horse Breed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                value: formData.horse_breed,\n                name: \"horse_breed\",\n                onChange: this.handleChange,\n                maxLength: \"20\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              as: Col,\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Client Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                value: formData.client_name,\n                name: \"client_name\",\n                onChange: this.handleChange,\n                maxLength: \"40\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/dashboard\",\n                type: \"submit\",\n                class: \" topSpace btn btn-outline-primary form-control\",\n                onClick: !isLoading ? this.addHorse : null,\n                children: \"Add Horse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this);\n  }\n\n} //establishing context state for user\n\n\nAddHorse.contextType = MyContext;\nAddHorse.contextType = MyContext; //---------------\n\nexport default AddHorse;","map":{"version":3,"sources":["C:/Users/oscar/Dropbox/Semester 3/Colic Web App/40316282_FINAL/my-app/src/components/AddHorse.jsx"],"names":["React","Component","Form","Col","Container","Row","MyContext","Axios","Link","AddHorse","constructor","props","addHorse","rootState","context","theUser","console","log","user_id","setState","isLoading","params","horse_name","state","formData","weight_kg","height_cm","colour","description","horse_breed","client_name","status","passport_no","post","then","response","catch","error","handleChange","event","value","target","name","handleCancelClick","result","bind","render","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './InputForm.css';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport 'bootstrap';\r\nimport { MyContext } from '../contexts/MyContext'\r\nimport Axios from 'axios'\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\n\r\n\r\n//This template is adapted from our input form, except we edit the input values and syntax to suit the ‘savehorse.php’. \r\nclass AddHorse extends Component {\r\n\r\n//Importing the MyContext.js state values. We are interested in theUser as we are adding horses specific to the user account.\r\n//MyContext is acting as a parental component. It passes its prop values down to this component. React is one directional meaning that props \r\n//cannot be passed back up to the parent.\r\n  static contextType = MyContext;\r\n\r\n\r\n  //constructor defines the initial state\r\n  constructor(props) {\r\n    super(props);\r\n\r\n\r\n   //default values form values - starts empty. Values are altered by the rendered input form below.\r\n    this.state = {\r\n      isLoading: false,\r\n      formData: {\r\n        horse_name: '',\r\n        weight_kg: '',\r\n        height_cm: '',\r\n        colour: '',\r\n        description: '',\r\n        horse_breed: '',\r\n        client_name: '',\r\n        user_id: '',\r\n        status: '',\r\n        passport_no :'',\r\n      }\r\n\r\n    };\r\n\r\n    //this syntax allows the addHorse() method to change the state values.\r\n    this.addHorse = this.addHorse.bind(this);\r\n  }\r\n\r\n\r\n\r\n  //sends the horse information to our database when the 'addhorse' button is clicked\r\n  addHorse = () => {\r\n\r\n    //gets the user info from MyContext state. \r\n    //rootstate contains theUser, isAuth, isLoggedIn to control and access the signed in account values.\r\n    //We are interested in theUser.user_id value\r\n    const { rootState } = this.context;\r\n    const { theUser } = rootState;\r\n    console.log(theUser.user_id)\r\n    this.setState({ isLoading: true });\r\n\r\n\r\n\r\n    //this object takes the values from our current form state. It will be passed to the php code /savehorse.php\r\n    //All horses are saved as 'Under Supervision' by default. \r\n    // The veterinarian user will change this through the dashboard of the app when the horse is discharged (veterinarian has finished their client services).\r\n    //The discharge parameters are : discharged : dead, discharged : under treatment and discharged : fully recovered.\r\n    const params = {\r\n\r\n      horse_name: this.state.formData.horse_name,\r\n      weight_kg: this.state.formData.weight_kg,\r\n      height_cm: this.state.formData.height_cm,\r\n      colour: this.state.formData.colour,\r\n      description: this.state.formData.description,\r\n      horse_breed: this.state.formData.horse_breed,\r\n      client_name: this.state.formData.client_name,\r\n      user_id: theUser.user_id,\r\n      status: 'Under Supervision',\r\n      passport_no : this.state.formData.passport_no\r\n\r\n\r\n\r\n    };\r\n\r\n\r\n    console.log(params.horse_name, params.weight_kg,\r\n      params.height_cm, params.colour, params.description,\r\n      params.horse_breed, params.client_name, params.user_id,\r\n      params.status, params.passport_no)\r\n\r\n\r\n    //axios makes a post request to our local server API. It passes the above params. This will add the horse data to the sql database.\r\n    Axios.post(\"http://localhost/php-colicapp/savehorse.php\", (params))\r\n      .then((response) => {\r\n        console.log(response);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    this.setState({ isLoading: false });\r\n\r\n   \r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  //when data changes live on the input form, this function updates the values of the form data.\r\n  handleChange = (event) => {\r\n    const value = event.target.value;\r\n    const name = event.target.name;\r\n    var formData = this.state.formData;\r\n    formData[name] = value;\r\n    this.setState({\r\n      formData\r\n    });\r\n  }\r\n\r\n\r\n\r\n\r\n  //Cancel click resets the result state to null.\r\n  handleCancelClick = (event) => {\r\n    this.setState({ result: \"\" });\r\n  }\r\n\r\n\r\n\r\n  \r\n  render() {\r\n\r\n\r\n    //creating an object that allows us to access the state of the \"isLoading\" variable\r\n    const isLoading = this.state.isLoading;\r\n    //creating an object that allows us to access the state of the \"formData\" variable - the horse values we are to change through form input\r\n    const formData = this.state.formData;\r\n    \r\n\r\n\r\n//below is what will appear on the screen in browser when loaded\r\n    return (\r\n\r\n      <Container>\r\n\r\n\r\n        \r\n        <div>\r\n          <h1 className=\"title\">Add Horse</h1>\r\n        </div>\r\n        <div className=\"content\">\r\n          <Form>\r\n            <Form.Row>\r\n              <Form.Group as={Col}>\r\n                <Form.Label>Horse Name</Form.Label>\r\n                {/* from control name and value is taken to fill out the \"formData\" when the form input data value changes in real time */}\r\n                {/* used to input the 'horse_name' */}\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"horse_name\"\r\n                  value={formData.horse_name}\r\n                  onChange={this.handleChange}\r\n                  maxLength=\"25\">\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group as={Col}>\r\n                <Form.Label>Horse Passport Number</Form.Label>\r\n                {/* from control name and value is taken to fill out the \"formData\" when the form input data value changes in real time */}\r\n                {/* used to input the 'passport_no' */}\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"passport_no\"\r\n                  value={formData.passport_no}\r\n                  onChange={this.handleChange}\r\n                  maxLength=\"15\">\r\n                </Form.Control>\r\n              </Form.Group>\r\n            </Form.Row>\r\n\r\n            <Form.Row>\r\n              <Form.Group as={Col}>\r\n                <Form.Label>Weight in Kilograms</Form.Label>\r\n                 {/* from control name and value is taken by \"handleChange\" to fill out the \"formData\" when the form input data value changes in real time */}\r\n                 {/* used to input the 'weight_kg' */}\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  value={formData.weight_kg}\r\n                  name=\"weight_kg\"\r\n                  onChange={this.handleChange}\r\n                  maxLength=\"3\">\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group as={Col}>\r\n                <Form.Label>Height in Centremeters</Form.Label>\r\n                 {/* from control name and value is taken by \"handleChange\" to fill out the \"formData\" when the form input data value changes in real time */}\r\n                {/* used to input the 'height_cm' */}\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  value={formData.height_cm}\r\n                  name=\"height_cm\"\r\n                  onChange={this.handleChange}\r\n                  maxLength=\"3\">\r\n                </Form.Control>\r\n              </Form.Group>\r\n            </Form.Row>\r\n\r\n            <Form.Row>\r\n              <Form.Group as={Col}>\r\n                <Form.Label>Horse Colour</Form.Label>\r\n                 {/* from control name and value is taken by \"handleChange\" to fill out the \"formData\" when the form input data value changes in real time */}\r\n                 {/* used to input the 'colour' */}\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  value={formData.colour}\r\n                  name=\"colour\"\r\n                  onChange={this.handleChange}\r\n                  maxLength=\"10\">\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group as={Col}>\r\n                <Form.Label>Horse Description</Form.Label>\r\n                 {/* from control name and value is taken by \"handleChange\" to fill out the \"formData\" when the form input data value changes in real time */}\r\n                 {/* used to input the 'description' */}\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  value={formData.description}\r\n                  name=\"description\"\r\n                  onChange={this.handleChange}\r\n                  maxLength=\"200\">\r\n                </Form.Control>\r\n              </Form.Group>\r\n            </Form.Row>\r\n\r\n            <Form.Row>\r\n              <Form.Group as={Col}>\r\n                <Form.Label>Horse Breed</Form.Label>\r\n                 {/* from control name and value is taken by \"handleChange\" to fill out the \"formData\" when the form input data value changes in real time */}\r\n                 {/* used to input the 'horse_breed' */}\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  value={formData.horse_breed}\r\n                  name=\"horse_breed\"\r\n                  onChange={this.handleChange}\r\n                  maxLength=\"20\">\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group as={Col}>\r\n                <Form.Label>Client Name</Form.Label>\r\n                 {/* from control name and value is taken by \"handleChange\" to fill out the \"formData\" when the form input data value changes in real time */}\r\n                  {/* used to input the 'client_name' */}\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  value={formData.client_name}\r\n                  name=\"client_name\"\r\n                  onChange={this.handleChange}\r\n                  maxLength=\"40\">\r\n                </Form.Control>\r\n              </Form.Group>\r\n            </Form.Row>\r\n\r\n\r\n\r\n            <Row>\r\n              <Col>\r\n              {/* when the horse is successfully added, redirect tot the dashboard to see the newly added horse */}\r\n              <Link to=\"/dashboard\" type=\"submit\" class=\" topSpace btn btn-outline-primary form-control\" onClick={!isLoading ? this.addHorse : null}>Add Horse</Link>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n\r\n\r\n\r\n\r\n        </div>\r\n\r\n        <div>\r\n\r\n\r\n\r\n        </div>\r\n\r\n      </Container>\r\n    );\r\n  }\r\n\r\n\r\n}\r\n\r\n//establishing context state for user\r\nAddHorse.contextType = MyContext;\r\n\r\n\r\n\r\n//---------------\r\n\r\nexport default AddHorse;\r\n"]},"metadata":{},"sourceType":"module"}